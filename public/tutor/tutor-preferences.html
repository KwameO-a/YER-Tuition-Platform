<!DOCTYPE html><!--  Last Published: Sun Jan 24 2021 21:13:58 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5f9903a35cef4fa00b0656d8" data-wf-site="5f855b36d840bd0dab33dac0">
<head>
  <meta charset="utf-8">
  <title>Tutor Preferences</title>
  <meta content="Tutor Preferences" property="og:title">
  <meta content="Tutor Preferences" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="/css/components.css" rel="stylesheet" type="text/css">
  <link href="/css/yer-tuition-services.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Nunito:regular,700,800","M PLUS Rounded 1c:regular,700,800"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="/images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="/images/webclip.png" rel="apple-touch-icon">
  <style>
  input, textarea, select { 
  -webkit-appearance: none; 
  -moz-appearance: none; 
  appearance: none; border-radius: 0; 
  background-image: none; 
}
  a[href^="tel"]{
    color:inherit;
    text-decoration: none;
}
</style>
</head>
<body>
  <div class="login-nav w-clearfix">
    <a href="/" class="brand w-inline-block"></a>
    <div class="div-block-10">
      <a href="/login" class="nav-link login">Login</a>
      <!-- <a href="#" class="nav-link signup">Sign up</a> -->
    </div>
  </div>
  <div class="sign-up-section w-clearfix">
    <div class="form-column form">
      <div class="sign-up-block w-form">
        <form id="email-form" name="email-form" data-name="Email Form">
          <h1 class="signup-heading-1">What kind of teaching have you done before?<strong><br></strong></h1><label class="experience-radio w-checkbox">
            <div class="w-form-formcheckboxinput w-form-formcheckboxinput--inputType-custom experience-button w-checkbox-input"></div>
            <input type="checkbox" id="TeachingExperience" name="TeachingExperience" value="In person, informally" style="opacity:0;position:absolute;z-index:-1">
            <span class="checkbox-label w-form-label">In person, informally</span>
          </label><label class="experience-radio w-radio">
            <div class="w-form-formcheckboxinput w-form-formcheckboxinput--inputType-custom experience-button w-checkbox-input"></div>
            <input type="checkbox" id="TeachingExperience" name="TeachingExperience" value="In person, professionally" style="opacity:0;position:absolute;z-index:-1">
            <span class="radio-label w-form-label">In person, professionally </span>
          </label><label class="experience-radio w-radio">
            <div class="w-form-formcheckboxinput w-form-formcheckboxinput--inputType-custom experience-button w-checkbox-input"></div>
            <input type="checkbox" id="TeachingExperience" name="TeachingExperience" value="Online" style="opacity:0;position:absolute;z-index:-1">
            <span class="radio-label w-form-label">Online</span>
          </label><label class="experience-radio w-radio">
            <div class="w-form-formcheckboxinput w-form-formcheckboxinput--inputType-custom experience-button w-checkbox-input"></div>
            <input type="checkbox" id="TeachingExperience" name="TeachingExperience" value="Other" style="opacity:0;position:absolute;z-index:-1">
            <span class="radio-label w-form-label">Other</span>
          </label>
          <a href="/tutor/signup/2" class="button signup-back w-button">Back</a>
          <a href="#" class="button signup-next w-button">Get Started</a>
        </form>
        <div class="w-form-done">
          <div>Thank you! Your submission has been received!</div>
        </div>
        <div class="w-form-fail">
          <div>Oops! Something went wrong while submitting the form.</div>
        </div>
      </div>
    </div>
    <div class="form-column tutor-banner"></div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5f855b36d840bd0dab33dac0" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="/js/yer-tuition-services.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  <!-- <script src="https://cdn.auth0.com/js/auth0-spa-js/1.2/auth0-spa-js.production.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <script src="/js/ui.js"></script>
  <script src="/js/app.js"></script>  -->
  <script src="https://cdn.auth0.com/js/auth0/9.11/auth0.min.js"></script>
  <script>
    
    
    $('.button.signup-next').on('click', function(e) {
      let $btn = $(this);
      $btn.text("Please wait ...");
      var webAuth = new auth0.WebAuth({
        domain:       'dev-gni4nx9z.us.auth0.com',
        clientID:     'j25SQndxVWGCp2JaMTjdmXQLDy1yoa8h',
        responseType: 'code'
      });

      var tutorData = JSON.parse(localStorage.tutorData);
      var tutorBackground = JSON.parse(localStorage.tutorBackground);
      var teachingType = [];

      var selectedTypes = $(':checked');
      
      if(selectedTypes.length < 1) {
        alert("You need to select one or more values to proceed");
        return false;
      } else {
        selectedTypes.each((i, j) => { teachingType.push(j.value) });
      }

      webAuth.signup({ 
        connection: 'Username-Password-Authentication', 
        email: tutorData.Email, 
        password: tutorData.Password,
        username: tutorData.Email,
        given_name: tutorData.FirstName,
        family_name: tutorData.Surname,
        name: tutorData.FirstName + " " + tutorData.Surname,
        nickname: tutorData.FirstName.toString().toLowerCase(),
        user_metadata: { plan: 'none', team_id: 'none' },
        app_metadata : { roles : ['tutor']},
      }, async function (err, tutor) { 
        if (err) {
          $btn.text("Get Started");
          if( err.code === "invalid_password") {
            return alert('Weak password selected. Do the following:\n ' + err.policy); 
          } else {
            return alert('Something went wrong: ' + err.description); 
          }
          $btn.text("Get Started");
        }
        $btn.text("Initializing ...");

        let userData = { tutorData : JSON.parse(localStorage.tutorData), tutorBackground : JSON.parse(localStorage.tutorBackground), teachingTypes : teachingType, ID : tutor.Id };
        
        await fetch("/api/signup/tutor", {
          method : "POST",
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json'
          },
          body : JSON.stringify(userData)
        })
        .then(response => response.json())
        .then(data => {
          console.log(data);
          if(data.code === 200) {
           localStorage.removeItem("tutorData");
           localStorage.removeItem("tutorBackground");
            window.location.href = window.location.origin + "/tutor/signup/4";
          } else {
            $btn.text("Get Started");
            alert("An encountered an error signing up as a tutor. Please try again later");
          }
        });

      });
    });
</script>
</body>
</html>